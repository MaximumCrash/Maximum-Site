<template>
    <header class="header">
        <div :class="{'site-logo-container': true, hidden: isHidden}">
            <nuxt-link to="/">
        <div class="site-name">
            Maximum
        </div>
      <svg class="logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 70.9 71.4" style="enable-background:new 0 0 70.9 71.4;" xml:space="preserve">
<style type="text/css">
	.st0{opacity:0.32;}
	.st1{clip-path:url(#SVGID_2_);}
	.st2{fill:#2C2B37;}
	.st3{opacity:0.32;fill:none;stroke:#2B2A36;stroke-miterlimit:10;}
	.st4{clip-path:url(#SVGID_4_);}
</style>
<g class="st0">
	<g>
		<defs>
			<path id="SVGID_1_" d="M19.9,35c-1-1.6-1.4-3.4-1.3-5.2l-6.1,9.8c-2.2,3.6-1.1,8.3,2.4,10.5c3.6,2.2,8.3,1.1,10.5-2.4l1.2-1.9
				L19.9,35z"/>
		</defs>
		<use xlink:href="#SVGID_1_"  style="overflow:visible;fill:#2C2B37;"/>
		<clipPath id="SVGID_2_">
			<use xlink:href="#SVGID_1_"  style="overflow:visible;"/>
		</clipPath>
		<g class="st1">
			<rect x="-21.8" y="-27.5" class="st2" width="121.1" height="87.1"/>
			<ellipse transform="matrix(0.1537 -0.9881 0.9881 0.1537 32.1847 76.8973)" class="st2" cx="61" cy="19.7" rx="38.4" ry="38.4"/>
			
				<ellipse transform="matrix(0.1487 -0.9889 0.9889 0.1487 13.4509 37.4432)" class="st2" cx="28.5" cy="10.9" rx="38.4" ry="38.4"/>
			
				<ellipse transform="matrix(0.1486 -0.9889 0.9889 0.1486 -6.9366 34.5685)" class="st2" cx="16.6" cy="21.3" rx="38.4" ry="38.4"/>
		</g>
	</g>
</g>
<g class="st0">
	<path class="st2" d="M58.1,39.6L52,29.8c0.1,1.8-0.3,3.6-1.3,5.2l-6.7,10.8l1.2,1.9c2.2,3.6,7,4.7,10.5,2.4
		C59.2,47.9,60.3,43.1,58.1,39.6z"/>
</g>
<g class="st0">
	<path class="st2" d="M41,47l8.1-13c0.9-1.5,1.3-3.3,0.8-5.1c-0.4-1.7-1.5-3.2-3-4.2c-1.1-0.7-2.3-1-3.5-1c-2.3,0-4.5,1.2-5.7,3.2
		l-2.4,3.9l-2.4-3.9c-1.2-2-3.4-3.2-5.7-3.2c-1.3,0-2.5,0.4-3.6,1c-1.5,0.9-2.6,2.4-3,4.2c-0.4,1.7-0.1,3.5,0.8,5.1l8.1,13
		c1.2,1.9,3.3,3.1,5.6,3.2l0.1,0l0.1,0C37.7,50.1,39.8,48.9,41,47z"/>
</g>
<circle class="st3" cx="35.3" cy="35.5" r="31"/>
<g>
	<g>
		<defs>
			<path id="SVGID_3_" d="M19.9,33c-1-1.6-1.4-3.4-1.3-5.2l-6.1,9.8c-2.2,3.6-1.1,8.3,2.4,10.5c3.6,2.2,8.3,1.1,10.5-2.4l1.2-1.9
				L19.9,33z"/>
		</defs>
		<use xlink:href="#SVGID_3_"  style="overflow:visible;fill:#2C2B37;"/>
		<clipPath id="SVGID_4_">
			<use xlink:href="#SVGID_3_"  style="overflow:visible;"/>
		</clipPath>
		<g class="st4">
			<rect x="-21.8" y="-29.5" class="st2" width="121.1" height="87.1"/>
			<ellipse transform="matrix(0.1537 -0.9881 0.9881 0.1537 34.1609 75.2047)" class="st2" cx="61" cy="17.7" rx="38.4" ry="38.4"/>
			
				<ellipse transform="matrix(0.1487 -0.9889 0.9889 0.1487 15.4286 35.7406)" class="st2" cx="28.5" cy="8.9" rx="38.4" ry="38.4"/>
			
				<ellipse transform="matrix(0.1486 -0.9889 0.9889 0.1486 -4.9588 32.8658)" class="st2" cx="16.6" cy="19.3" rx="38.4" ry="38.4"/>
		</g>
	</g>
</g>
<g>
	<path class="st2" d="M58.1,37.6L52,27.8c0.1,1.8-0.3,3.6-1.3,5.2l-6.7,10.8l1.2,1.9c2.2,3.6,7,4.7,10.5,2.4
		C59.2,45.9,60.3,41.1,58.1,37.6z"/>
</g>
<g>
	<path class="st2" d="M41,45l8.1-13c0.9-1.5,1.3-3.3,0.8-5.1c-0.4-1.7-1.5-3.2-3-4.2c-1.1-0.7-2.3-1-3.5-1c-2.3,0-4.5,1.2-5.7,3.2
		l-2.4,3.9l-2.4-3.9c-1.2-2-3.4-3.2-5.7-3.2c-1.3,0-2.5,0.4-3.6,1c-1.5,0.9-2.6,2.4-3,4.2c-0.4,1.7-0.1,3.5,0.8,5.1l8.1,13
		c1.2,1.9,3.3,3.1,5.6,3.2l0.1,0l0.1,0C37.7,48.1,39.8,46.9,41,45z"/>
</g>
</svg>
    <div class="site-name">
        Archives
    </div>
            </nuxt-link>
     <div class="content">
            <div class="links"> 
                <a class="external" rel="noopener" href="mailto:hello@maximumcrash.com">
                    Contact
                </a>
            </div>
        </div>
    </div>

    <TimelineRange/>
    <MobileNotificationBar/>
    <MobileBackButton />
    </header>
</template>

<script>
import TimelineRange from './Timeline_range';
import MobileNotificationBar from './MobileNotificationBar';
import MobileBackButton from './MobileBackButton';

export default {
    data: function() {
        return {
            isHidden: false, 
            prevScroll: 0
        }
    },
    methods: {
        onScroll: function() {
            if (this.prevScroll > document.documentElement.scrollTop) {
                this.$set(this, 'isHidden', false);
            }
            else if (document.documentElement.scrollTop > 25){
                this.$set(this, 'isHidden', true);
            }

            this.prevScroll = document.documentElement.scrollTop; 
        }
    },
    components: {
        TimelineRange,
        MobileNotificationBar,
        MobileBackButton
    },
    mounted() {
        //NOTE(Rejon): For some reason this doesn't work on mobile because of document vs window? 
        document.addEventListener('scroll', this.onScroll);
    },
    beforeDestroy() {
        document.removeEventListener('scroll', this.onScroll);
    }
}
</script>


<style scoped>
    .site-logo-container {
        position: relative;
        transform: translateY(0);
        transition: all .3s ease-in-out;
        background: #FBF7F0;
        padding:0.5em;
        z-index:1000;
    }

    .site-logo-container.hidden {
        transform: translateY(-20vh);
        transition: all .3s ease-in-out;
    }

    .header {
        position: fixed;
        width: 100%;
        text-align: center;
        z-index: 1000;
        
    }

    .header svg.logo {
        width: 20.5vw;
        cursor: pointer;
        display: inline-block;
    }

    .content {
        
        position: absolute;
        right: 15px;
        bottom: 10px;
    } 

    .content > .links > a {
        font-size: 5vw;
    } 

    .content > .links > a:after {
        width: 6vw;
        height: 6vw;
        top: 2vw;
        right: -5.5vw;
    }

    .site-name {
        font-family: 'ScoreDozer';
        font-size: 6vw;
        letter-spacing: 1px;
        cursor: pointer;
        position: relative;
        font-weight: normal;
        font-weight: initial;
        color: #2c2b36;
        display: inline-block;
        top: -9vw;
    }

    
    h1.site-name::before {
        content: 'Archives';
    }

     .sub-text {
        font-family: 'StrongGamer';
        font-size: 1.25rem; 
        opacity: 0.32;
        letter-spacing: normal;
        font-weight: initial;
    }

     .links {
        font-family: 'StrongGamer';
        position: relative;
        left: -3px;
        padding-top: 10px;
        font-weight: initial;
    }
</style>
